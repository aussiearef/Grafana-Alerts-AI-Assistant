{"version":3,"file":"TagList.mjs","sources":["../../../../src/components/Tags/TagList.tsx"],"sourcesContent":["import { css, cx } from '@emotion/css';\nimport { forwardRef, memo } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\n\nimport { useStyles2, useTheme2 } from '../../themes';\nimport { IconName } from '../../types/icon';\nimport { SkeletonComponent, attachSkeleton } from '../../utils/skeleton';\n\nimport { OnTagClick, Tag } from './Tag';\n\nexport interface Props {\n  /** Maximum number of the tags to display */\n  displayMax?: number;\n  /** Names of the tags to display */\n  tags: string[];\n  /** Callback when the tag is clicked */\n  onClick?: OnTagClick;\n  /** Custom styles for the wrapper component */\n  className?: string;\n  /** aria-label for the `i`-th Tag component */\n  getAriaLabel?: (name: string, i: number) => string;\n  //** Should return an index of a color defined in the TAG_COLORS array */\n  getColorIndex?: (name: string, i: number) => number;\n  /** Icon to show next to tag label */\n  icon?: IconName;\n}\n\nconst TagListComponent = memo(\n  forwardRef<HTMLUListElement, Props>(\n    ({ displayMax, tags, icon, onClick, className, getAriaLabel, getColorIndex }, ref) => {\n      const theme = useTheme2();\n      const styles = getStyles(theme, Boolean(displayMax && displayMax > 0));\n      const numTags = tags.length;\n      const tagsToDisplay = displayMax ? tags.slice(0, displayMax) : tags;\n      return (\n        <ul className={cx(styles.wrapper, className)} aria-label=\"Tags\" ref={ref}>\n          {tagsToDisplay.map((tag, i) => (\n            <li className={styles.li} key={tag}>\n              <Tag\n                name={tag}\n                icon={icon}\n                onClick={onClick}\n                aria-label={getAriaLabel?.(tag, i)}\n                data-tag-id={i}\n                colorIndex={getColorIndex?.(tag, i)}\n              />\n            </li>\n          ))}\n          {displayMax && displayMax > 0 && numTags - displayMax > 0 && (\n            <span className={styles.moreTagsLabel}>\n              {'+ '}\n              {numTags - displayMax}\n            </span>\n          )}\n        </ul>\n      );\n    }\n  )\n);\nTagListComponent.displayName = 'TagList';\n\nconst TagListSkeleton: SkeletonComponent = ({ rootProps }) => {\n  const styles = useStyles2(getSkeletonStyles);\n  return (\n    <div className={styles.container} {...rootProps}>\n      <Tag.Skeleton />\n      <Tag.Skeleton />\n    </div>\n  );\n};\n\nexport const TagList = attachSkeleton(TagListComponent, TagListSkeleton);\n\nconst getSkeletonStyles = (theme: GrafanaTheme2) => ({\n  container: css({\n    display: 'flex',\n    gap: theme.spacing(1),\n  }),\n});\n\nconst getStyles = (theme: GrafanaTheme2, isTruncated: boolean) => {\n  return {\n    wrapper: css({\n      position: 'relative',\n      alignItems: isTruncated ? 'center' : 'unset',\n      display: 'flex',\n      flex: '1 1 auto',\n      flexWrap: 'wrap',\n      flexShrink: isTruncated ? 0 : 1,\n      justifyContent: 'flex-end',\n      gap: '6px',\n    }),\n    moreTagsLabel: css({\n      color: theme.colors.text.secondary,\n      fontSize: theme.typography.size.sm,\n    }),\n    li: css({\n      listStyle: 'none',\n    }),\n  };\n};\n"],"names":[],"mappings":"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"}