{"version":3,"file":"slate.mjs","sources":["../../../src/utils/slate.ts"],"sourcesContent":["import { Block, Document, Text, Value, SchemaProperties } from 'slate';\n\nexport const SCHEMA: SchemaProperties = {\n  document: {\n    nodes: [\n      {\n        match: [{ type: 'paragraph' }, { type: 'code_block' }, { type: 'code_line' }],\n      },\n    ],\n  },\n  inlines: {},\n};\n\nexport const makeFragment = (text: string, syntax?: string): Document => {\n  const lines = text.split('\\n').map((line) =>\n    Block.create({\n      type: 'code_line',\n      nodes: [Text.create(line)],\n    })\n  );\n\n  const block = Block.create({\n    data: {\n      syntax,\n    },\n    type: 'code_block',\n    nodes: lines,\n  });\n\n  return Document.create({\n    nodes: [block],\n  });\n};\n\nexport const makeValue = (text: string, syntax?: string): Value => {\n  const fragment = makeFragment(text, syntax);\n\n  return Value.create({\n    document: fragment,\n  });\n};\n"],"names":[],"mappings":";;AAEO,MAAM,MAA2B,GAAA;AAAA,EACtC,QAAU,EAAA;AAAA,IACR,KAAO,EAAA;AAAA,MACL;AAAA,QACE,KAAO,EAAA,CAAC,EAAE,IAAA,EAAM,WAAY,EAAA,EAAG,EAAE,IAAA,EAAM,YAAa,EAAA,EAAG,EAAE,IAAA,EAAM,aAAa;AAAA;AAC9E;AACF,GACF;AAAA,EACA,SAAS;AACX;AAEa,MAAA,YAAA,GAAe,CAAC,IAAA,EAAc,MAA8B,KAAA;AACvE,EAAA,MAAM,KAAQ,GAAA,IAAA,CAAK,KAAM,CAAA,IAAI,CAAE,CAAA,GAAA;AAAA,IAAI,CAAC,IAClC,KAAA,KAAA,CAAM,MAAO,CAAA;AAAA,MACX,IAAM,EAAA,WAAA;AAAA,MACN,KAAO,EAAA,CAAC,IAAK,CAAA,MAAA,CAAO,IAAI,CAAC;AAAA,KAC1B;AAAA,GACH;AAEA,EAAM,MAAA,KAAA,GAAQ,MAAM,MAAO,CAAA;AAAA,IACzB,IAAM,EAAA;AAAA,MACJ;AAAA,KACF;AAAA,IACA,IAAM,EAAA,YAAA;AAAA,IACN,KAAO,EAAA;AAAA,GACR,CAAA;AAED,EAAA,OAAO,SAAS,MAAO,CAAA;AAAA,IACrB,KAAA,EAAO,CAAC,KAAK;AAAA,GACd,CAAA;AACH;AAEa,MAAA,SAAA,GAAY,CAAC,IAAA,EAAc,MAA2B,KAAA;AACjE,EAAM,MAAA,QAAA,GAAW,YAAa,CAAA,IAAA,EAAM,MAAM,CAAA;AAE1C,EAAA,OAAO,MAAM,MAAO,CAAA;AAAA,IAClB,QAAU,EAAA;AAAA,GACX,CAAA;AACH;;;;"}