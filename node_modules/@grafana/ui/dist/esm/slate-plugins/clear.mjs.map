{"version":3,"file":"clear.mjs","sources":["../../../src/slate-plugins/clear.ts"],"sourcesContent":["import { Plugin } from 'slate-react';\n\n// Clears the rest of the line after the caret\nexport function ClearPlugin(): Plugin {\n  return {\n    onKeyDown(event, editor, next) {\n      const value = editor.value;\n\n      if (value.selection.isExpanded) {\n        return next();\n      }\n\n      if (event.key === 'k' && event.ctrlKey) {\n        event.preventDefault();\n        const text = value.anchorText.text;\n        const offset = value.selection.anchor.offset;\n        const length = text.length;\n        const forward = length - offset;\n        editor.deleteForward(forward);\n        return true;\n      }\n\n      return next();\n    },\n  };\n}\n"],"names":[],"mappings":"AAGO,SAAS,WAAsB,GAAA;AACpC,EAAO,OAAA;AAAA,IACL,SAAA,CAAU,KAAO,EAAA,MAAA,EAAQ,IAAM,EAAA;AAC7B,MAAA,MAAM,QAAQ,MAAO,CAAA,KAAA;AAErB,MAAI,IAAA,KAAA,CAAM,UAAU,UAAY,EAAA;AAC9B,QAAA,OAAO,IAAK,EAAA;AAAA;AAGd,MAAA,IAAI,KAAM,CAAA,GAAA,KAAQ,GAAO,IAAA,KAAA,CAAM,OAAS,EAAA;AACtC,QAAA,KAAA,CAAM,cAAe,EAAA;AACrB,QAAM,MAAA,IAAA,GAAO,MAAM,UAAW,CAAA,IAAA;AAC9B,QAAM,MAAA,MAAA,GAAS,KAAM,CAAA,SAAA,CAAU,MAAO,CAAA,MAAA;AACtC,QAAA,MAAM,SAAS,IAAK,CAAA,MAAA;AACpB,QAAA,MAAM,UAAU,MAAS,GAAA,MAAA;AACzB,QAAA,MAAA,CAAO,cAAc,OAAO,CAAA;AAC5B,QAAO,OAAA,IAAA;AAAA;AAGT,MAAA,OAAO,IAAK,EAAA;AAAA;AACd,GACF;AACF;;;;"}