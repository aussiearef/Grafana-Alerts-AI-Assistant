{"version":3,"file":"nullToUndefThreshold.mjs","sources":["../../../../src/graveyard/GraphNG/nullToUndefThreshold.ts"],"sourcesContent":["/**\n * mutates all nulls -> undefineds in the fieldValues array for value-less refValues ranges below maxThreshold\n * refValues is typically a time array and maxThreshold is the allowable distance between in time\n * @deprecated\n */\nexport function nullToUndefThreshold(refValues: number[], fieldValues: any[], maxThreshold: number): any[] {\n  let prevRef;\n  let nullIdx;\n\n  for (let i = 0; i < fieldValues.length; i++) {\n    let fieldVal = fieldValues[i];\n\n    if (fieldVal == null) {\n      if (nullIdx == null && prevRef != null) {\n        nullIdx = i;\n      }\n    } else {\n      if (nullIdx != null) {\n        if (refValues[i] - (prevRef as number) < maxThreshold) {\n          while (nullIdx < i) {\n            fieldValues[nullIdx++] = undefined;\n          }\n        }\n\n        nullIdx = null;\n      }\n\n      prevRef = refValues[i];\n    }\n  }\n\n  return fieldValues;\n}\n"],"names":[],"mappings":"AAKgB,SAAA,oBAAA,CAAqB,SAAqB,EAAA,WAAA,EAAoB,YAA6B,EAAA;AACzG,EAAI,IAAA,OAAA;AACJ,EAAI,IAAA,OAAA;AAEJ,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,WAAA,CAAY,QAAQ,CAAK,EAAA,EAAA;AAC3C,IAAI,IAAA,QAAA,GAAW,YAAY,CAAC,CAAA;AAE5B,IAAA,IAAI,YAAY,IAAM,EAAA;AACpB,MAAI,IAAA,OAAA,IAAW,IAAQ,IAAA,OAAA,IAAW,IAAM,EAAA;AACtC,QAAU,OAAA,GAAA,CAAA;AAAA;AACZ,KACK,MAAA;AACL,MAAA,IAAI,WAAW,IAAM,EAAA;AACnB,QAAA,IAAI,SAAU,CAAA,CAAC,CAAK,GAAA,OAAA,GAAqB,YAAc,EAAA;AACrD,UAAA,OAAO,UAAU,CAAG,EAAA;AAClB,YAAA,WAAA,CAAY,SAAS,CAAI,GAAA,SAAA;AAAA;AAC3B;AAGF,QAAU,OAAA,GAAA,IAAA;AAAA;AAGZ,MAAA,OAAA,GAAU,UAAU,CAAC,CAAA;AAAA;AACvB;AAGF,EAAO,OAAA,WAAA;AACT;;;;"}