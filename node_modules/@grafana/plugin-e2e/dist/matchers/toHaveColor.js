'use strict';

var test = require('@playwright/test');
var utils = require('./utils.js');

async function toHaveColor(colorPicker, rgbOrHex, options) {
  try {
    await test.expect(colorPicker.locator().getByRole("textbox")).toHaveValue(rgbOrHex, options);
    return {
      pass: true,
      expected: rgbOrHex,
      message: () => `Value successfully selected`
    };
  } catch (err) {
    return {
      message: () => utils.getMessage(rgbOrHex, err instanceof Error ? err.toString() : "Unknown error"),
      pass: false
    };
  }
}

exports.toHaveColor = toHaveColor;
