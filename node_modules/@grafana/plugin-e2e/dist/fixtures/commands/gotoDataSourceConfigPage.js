'use strict';

var DataSourceConfigPage = require('../../models/pages/DataSourceConfigPage.js');

const gotoDataSourceConfigPage = async ({ request, page, selectors, grafanaVersion, grafanaAPIClient }, use, testInfo) => {
  await use(async (uid) => {
    const settings = await grafanaAPIClient.getDataSourceSettingsByUID(uid);
    const dataSourceConfigPage = new DataSourceConfigPage.DataSourceConfigPage(
      { page, selectors, grafanaVersion, request, testInfo },
      settings
    );
    await dataSourceConfigPage.goto();
    return dataSourceConfigPage;
  });
};

exports.gotoDataSourceConfigPage = gotoDataSourceConfigPage;
