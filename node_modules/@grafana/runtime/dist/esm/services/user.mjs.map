{"version":3,"file":"user.mjs","sources":["../../../src/services/user.ts"],"sourcesContent":["import { CurrentUser } from '@grafana/data';\n\nlet singletonInstance: CurrentUser | null = null;\n\n/**\n * Used during startup by Grafana to set the current user so it is available\n * for rbac checks.\n *\n * @internal\n */\nexport function setCurrentUser(instance: CurrentUser) {\n  if (singletonInstance) {\n    throw new Error('User should only be set once, when Grafana is starting.');\n  }\n  singletonInstance = instance;\n}\n\n/**\n * Used to retrieve the current user.\n *\n * @internal\n *\n */\nexport function getCurrentUser(): CurrentUser {\n  if (!singletonInstance) {\n    throw new Error('User can only be used after Grafana instance has started.');\n  }\n  return singletonInstance;\n}\n"],"names":[],"mappings":"AAEA,IAAI,iBAAwC,GAAA,IAAA;AAQrC,SAAS,eAAe,QAAuB,EAAA;AACpD,EAAA,IAAI,iBAAmB,EAAA;AACrB,IAAM,MAAA,IAAI,MAAM,yDAAyD,CAAA;AAAA;AAE3E,EAAoB,iBAAA,GAAA,QAAA;AACtB;AAQO,SAAS,cAA8B,GAAA;AAC5C,EAAA,IAAI,CAAC,iBAAmB,EAAA;AACtB,IAAM,MAAA,IAAI,MAAM,2DAA2D,CAAA;AAAA;AAE7E,EAAO,OAAA,iBAAA;AACT;;;;"}