{"version":3,"file":"store.mjs","sources":["../../../src/utils/store.ts"],"sourcesContent":["type StoreValue = string | number | boolean | null;\n\nexport class Store {\n  get(key: string) {\n    return window.localStorage[key];\n  }\n\n  set(key: string, value: StoreValue) {\n    window.localStorage[key] = value;\n  }\n\n  getBool(key: string, def: boolean): boolean {\n    if (def !== void 0 && !this.exists(key)) {\n      return def;\n    }\n    return window.localStorage[key] === 'true';\n  }\n\n  getObject<T = unknown>(key: string): T | undefined;\n  getObject<T = unknown>(key: string, def: T): T;\n  getObject<T = unknown>(key: string, def?: T) {\n    let ret = def;\n    if (this.exists(key)) {\n      const json = window.localStorage[key];\n      try {\n        ret = JSON.parse(json);\n      } catch (error) {\n        console.error(`Error parsing store object: ${key}. Returning default: ${def}. [${error}]`);\n      }\n    }\n    return ret;\n  }\n\n  /* Returns true when successfully stored, throws error if not successfully stored */\n  setObject(key: string, value: unknown) {\n    let json;\n    try {\n      json = JSON.stringify(value);\n    } catch (error) {\n      throw new Error(`Could not stringify object: ${key}. [${error}]`);\n    }\n    try {\n      this.set(key, json);\n    } catch (error) {\n      // Likely hitting storage quota\n      const errorToThrow = new Error(`Could not save item in localStorage: ${key}. [${error}]`);\n      if (error instanceof Error) {\n        errorToThrow.name = error.name;\n      }\n      throw errorToThrow;\n    }\n    return true;\n  }\n\n  exists(key: string) {\n    return window.localStorage[key] !== void 0;\n  }\n\n  delete(key: string) {\n    window.localStorage.removeItem(key);\n  }\n}\n\nexport const store = new Store();\n"],"names":[],"mappings":"AAEO,MAAM,KAAM,CAAA;AAAA,EACjB,IAAI,GAAa,EAAA;AACf,IAAO,OAAA,MAAA,CAAO,aAAa,GAAG,CAAA;AAAA;AAChC,EAEA,GAAA,CAAI,KAAa,KAAmB,EAAA;AAClC,IAAO,MAAA,CAAA,YAAA,CAAa,GAAG,CAAI,GAAA,KAAA;AAAA;AAC7B,EAEA,OAAA,CAAQ,KAAa,GAAuB,EAAA;AAC1C,IAAA,IAAI,QAAQ,SAAU,IAAA,CAAC,IAAK,CAAA,MAAA,CAAO,GAAG,CAAG,EAAA;AACvC,MAAO,OAAA,GAAA;AAAA;AAET,IAAO,OAAA,MAAA,CAAO,YAAa,CAAA,GAAG,CAAM,KAAA,MAAA;AAAA;AACtC,EAIA,SAAA,CAAuB,KAAa,GAAS,EAAA;AAC3C,IAAA,IAAI,GAAM,GAAA,GAAA;AACV,IAAI,IAAA,IAAA,CAAK,MAAO,CAAA,GAAG,CAAG,EAAA;AACpB,MAAM,MAAA,IAAA,GAAO,MAAO,CAAA,YAAA,CAAa,GAAG,CAAA;AACpC,MAAI,IAAA;AACF,QAAM,GAAA,GAAA,IAAA,CAAK,MAAM,IAAI,CAAA;AAAA,eACd,KAAO,EAAA;AACd,QAAA,OAAA,CAAQ,MAAM,CAA+B,4BAAA,EAAA,GAAG,wBAAwB,GAAG,CAAA,GAAA,EAAM,KAAK,CAAG,CAAA,CAAA,CAAA;AAAA;AAC3F;AAEF,IAAO,OAAA,GAAA;AAAA;AACT;AAAA,EAGA,SAAA,CAAU,KAAa,KAAgB,EAAA;AACrC,IAAI,IAAA,IAAA;AACJ,IAAI,IAAA;AACF,MAAO,IAAA,GAAA,IAAA,CAAK,UAAU,KAAK,CAAA;AAAA,aACpB,KAAO,EAAA;AACd,MAAA,MAAM,IAAI,KAAM,CAAA,CAAA,4BAAA,EAA+B,GAAG,CAAA,GAAA,EAAM,KAAK,CAAG,CAAA,CAAA,CAAA;AAAA;AAElE,IAAI,IAAA;AACF,MAAK,IAAA,CAAA,GAAA,CAAI,KAAK,IAAI,CAAA;AAAA,aACX,KAAO,EAAA;AAEd,MAAA,MAAM,eAAe,IAAI,KAAA,CAAM,wCAAwC,GAAG,CAAA,GAAA,EAAM,KAAK,CAAG,CAAA,CAAA,CAAA;AACxF,MAAA,IAAI,iBAAiB,KAAO,EAAA;AAC1B,QAAA,YAAA,CAAa,OAAO,KAAM,CAAA,IAAA;AAAA;AAE5B,MAAM,MAAA,YAAA;AAAA;AAER,IAAO,OAAA,IAAA;AAAA;AACT,EAEA,OAAO,GAAa,EAAA;AAClB,IAAO,OAAA,MAAA,CAAO,YAAa,CAAA,GAAG,CAAM,KAAA,SAAA;AAAA;AACtC,EAEA,OAAO,GAAa,EAAA;AAClB,IAAO,MAAA,CAAA,YAAA,CAAa,WAAW,GAAG,CAAA;AAAA;AAEtC;AAEa,MAAA,KAAA,GAAQ,IAAI,KAAM;;;;"}