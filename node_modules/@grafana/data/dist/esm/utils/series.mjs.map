{"version":3,"file":"series.mjs","sources":["../../../src/utils/series.ts"],"sourcesContent":["import { Field } from '../types/dataFrame';\n\n/**\n * Returns minimal time step from series time field\n * @param timeField\n */\nexport const getSeriesTimeStep = (timeField: Field): number => {\n  let previousTime: number | undefined;\n  let minTimeStep: number | undefined;\n  let returnTimeStep = Number.MAX_VALUE;\n\n  for (let i = 0; i < timeField.values.length; i++) {\n    const currentTime = timeField.values[i];\n\n    if (previousTime !== undefined) {\n      const timeStep = currentTime - previousTime;\n\n      if (minTimeStep === undefined) {\n        returnTimeStep = timeStep;\n      }\n\n      if (timeStep < returnTimeStep) {\n        returnTimeStep = timeStep;\n      }\n    }\n    previousTime = currentTime;\n  }\n  return returnTimeStep;\n};\n\n/**\n * Checks if series time field has ms resolution\n * @param timeField\n */\nexport const hasMsResolution = (timeField: Field) => {\n  for (let i = 0; i < timeField.values.length; i++) {\n    const value = timeField.values[i];\n    if (value !== null && value !== undefined) {\n      const timestamp = value.toString();\n      if (timestamp.length === 13 && timestamp % 1000 !== 0) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\n"],"names":[],"mappings":"AAMa,MAAA,iBAAA,GAAoB,CAAC,SAA6B,KAAA;AAC7D,EAAI,IAAA,YAAA;AAEJ,EAAA,IAAI,iBAAiB,MAAO,CAAA,SAAA;AAE5B,EAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,SAAU,CAAA,MAAA,CAAO,QAAQ,CAAK,EAAA,EAAA;AAChD,IAAM,MAAA,WAAA,GAAc,SAAU,CAAA,MAAA,CAAO,CAAC,CAAA;AAEtC,IAAA,IAAI,iBAAiB,SAAW,EAAA;AAC9B,MAAA,MAAM,WAAW,WAAc,GAAA,YAAA;AAE/B,MAA+B;AAC7B,QAAiB,cAAA,GAAA,QAAA;AAAA;AAGnB,MAAA,IAAI,WAAW,cAAgB,EAAA;AAC7B,QAAiB,cAAA,GAAA,QAAA;AAAA;AACnB;AAEF,IAAe,YAAA,GAAA,WAAA;AAAA;AAEjB,EAAO,OAAA,cAAA;AACT;AAMa,MAAA,eAAA,GAAkB,CAAC,SAAqB,KAAA;AACnD,EAAA,KAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,SAAU,CAAA,MAAA,CAAO,QAAQ,CAAK,EAAA,EAAA;AAChD,IAAM,MAAA,KAAA,GAAQ,SAAU,CAAA,MAAA,CAAO,CAAC,CAAA;AAChC,IAAI,IAAA,KAAA,KAAU,IAAQ,IAAA,KAAA,KAAU,SAAW,EAAA;AACzC,MAAM,MAAA,SAAA,GAAY,MAAM,QAAS,EAAA;AACjC,MAAA,IAAI,SAAU,CAAA,MAAA,KAAW,EAAM,IAAA,SAAA,GAAY,QAAS,CAAG,EAAA;AACrD,QAAO,OAAA,IAAA;AAAA;AACT;AACF;AAEF,EAAO,OAAA,KAAA;AACT;;;;"}